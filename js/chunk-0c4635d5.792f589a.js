(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c4635d5"],{"4de4":function(t,e,a){"use strict";var r=a("23e7"),c=a("b727").filter,n=a("1dde"),i=n("filter");r({target:"Array",proto:!0,forced:!i},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},5582:function(t,e,a){"use strict";a.r(e);var r=a("7a23"),c={class:"container favorite"},n={key:0,class:"fs-2 text-center fw-bold title-font"},i={key:1,class:"d-flex flex-column align-items-center"},o={class:"fs-3 fw-bold title-font"},s={class:"centerWrap mx-auto row row-cols-2 row-cols-lg-4 row-cols-md-3 g-3 mt-4"},l={class:"card"},d={class:"card-hover d-flex justify-content-center"},f={class:"d-flex flex-column align-items-center justify-content-center"},u=["onClick"],p=["onClick"],h=["src","alt"],b={class:"card-body d-flex flex-column justify-content-between"},m={class:"card-title"},v={class:"d-flex flex-column"},g={class:"original_price text-muted text-decoration-line-through"},O={class:"price fw-bold text-danger align-self-end pt-1"};function j(t,e,a,j,w,y){var x=Object(r["resolveComponent"])("Swiper"),N=Object(r["resolveComponent"])("router-link"),C=Object(r["resolveComponent"])("Footer");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(x),Object(r["createElementVNode"])("div",c,[0!==w.favoriteData.length?(Object(r["openBlock"])(),Object(r["createElementBlock"])("h1",n,Object(r["toDisplayString"])(t.$t("Favorite.favorite")),1)):Object(r["createCommentVNode"])("",!0),0===w.favoriteData.length?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,[Object(r["createElementVNode"])("h2",o,Object(r["toDisplayString"])(t.$t("Favorite.favorite-title")),1),Object(r["createVNode"])(N,{to:"/shop",class:"btn btn-dark to-product"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.$t("Favorite.GotoShop")),1)]})),_:1})])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",s,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(w.favoriteData,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"col",key:e.id},[Object(r["createElementVNode"])("div",l,[Object(r["createElementVNode"])("div",d,[Object(r["createElementVNode"])("div",f,[Object(r["createElementVNode"])("button",{class:"btn w-100",type:"button",onClick:function(t){return y.cancelFavorite(e.id)}},Object(r["toDisplayString"])(t.$t("Favorite.favoriteCancel-button")),9,u),Object(r["createElementVNode"])("button",{class:"btn mt-3 w-100",type:"button",onClick:function(t){return y.addCart(e)}},Object(r["toDisplayString"])(t.$t("Favorite.addCart-button")),9,p)])]),Object(r["createElementVNode"])("img",{src:e.imageUrl,alt:e.title},null,8,h),Object(r["createElementVNode"])("div",b,[Object(r["createElementVNode"])("h6",m,Object(r["toDisplayString"])(e.title),1),Object(r["createElementVNode"])("div",v,[Object(r["createElementVNode"])("p",g,"NT $"+Object(r["toDisplayString"])(t.$filters.currency(e.origin_price)),1),Object(r["createElementVNode"])("p",O,"NT $"+Object(r["toDisplayString"])(t.$filters.currency(e.price)),1)])])])])})),128))])]),Object(r["createVNode"])(C)],64)}a("99af"),a("4de4"),a("a434");var w=a("8419"),y=a("fd2d"),x=a("cfb9"),N={components:{Swiper:w["a"],Footer:y["a"]},inject:["emitter"],data:function(){return{products:[],cart:{},cartLength:0,qty:1,favoriteData:[],favoriteList:JSON.parse(localStorage.getItem("favoriteList"))||[],isLoading:!1}},methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("mmaa7850-api","/products/all");this.isLoading=!0,this.$http.get(e).then((function(e){t.products=e.data.products,t.getFavorite(),t.isLoading=!1})).catch((function(e){t.$httpMessageState(e,"錯誤訊息")}))},getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("mmaa7850-api","/cart");this.isLoading=!0,this.$http.get(e).then((function(e){t.cart=e.data.data,t.cartLength=t.cart.carts.length,x["a"].emit("updateCart",t.cart),x["a"].emit("updateCartLength",t.cartLength),t.isLoading=!1})).catch((function(e){t.$httpMessageState(e,"錯誤訊息")}))},addCart:function(t){var e=this,a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("mmaa7850-api","/cart"),r={product_id:t.id,qty:this.qty};this.isLoading=!0,this.$http.post(a,{data:r}).then((function(t){e.emitter.emit("push-message",{style:"success",title:"更新成功",content:t.data.message}),e.getCart(),e.isLoading=!1})).catch((function(t){e.$httpMessageState(t,"錯誤訊息")}))},getFavorite:function(){var t=this;this.favoriteData=this.products.filter((function(e){return-1!==t.favoriteList.indexOf(e.id)}))},cancelFavorite:function(t){this.isLoading=!0;var e=this.favoriteList.indexOf(t);e||0===e?(this.favoriteList.splice(e,1),localStorage.setItem("favoriteList",JSON.stringify(this.favoriteList)),this.emitter.emit("push-message",{style:"success",title:"已取消收藏"})):this.emitter.emit("push-message",{style:"danger",title:"找不到收藏"}),this.getFavorite(),this.isLoading=!1}},created:function(){this.getProducts(),this.getCart()}},C=a("d959"),E=a.n(C);const V=E()(N,[["render",j]]);e["default"]=V},8419:function(t,e,a){"use strict";var r=a("7a23");Object(r["pushScopeId"])("data-v-3a45e9ac");var c=Object(r["createElementVNode"])("div",{class:"swiperBg-01"},null,-1),n=Object(r["createElementVNode"])("div",{class:"swiperBg-02"},null,-1),i=Object(r["createElementVNode"])("div",{class:"swiperBg-03"},null,-1);function o(t,e,a,o,s,l){var d=Object(r["resolveComponent"])("router-link"),f=Object(r["resolveComponent"])("swiper-slide"),u=Object(r["resolveComponent"])("swiper",!0);return Object(r["openBlock"])(),Object(r["createBlock"])(u,{autoplay:s.option.autoplay,effect:"fade",spaceBetween:30,class:"Swiper"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{to:"/products/-NB_VnzT2NJpth_7oJn8"},{default:Object(r["withCtx"])((function(){return[c]})),_:1})]})),_:1}),Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{to:"/products/-NB_cIlyIh8h9sw4cdh-"},{default:Object(r["withCtx"])((function(){return[n]})),_:1})]})),_:1}),Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{to:"/products/-MidPegkzga8xS_Hk3sU"},{default:Object(r["withCtx"])((function(){return[i]})),_:1})]})),_:1})]})),_:1},8,["autoplay"])}Object(r["popScopeId"])();var s=a("90ea"),l=a("a16a"),d=(a("bbe3"),a("6d3b")),f=a("d17a"),u=a("e36a");d["a"].use([f["a"],u["a"]]);var p={components:{Swiper:s["a"],SwiperSlide:l["a"]},data:function(){return{option:{autoplay:{delay:5e3,disableOnInteraction:!1}}}}},h=(a("e690"),a("d959")),b=a.n(h);const m=b()(p,[["render",o],["__scopeId","data-v-3a45e9ac"]]);e["a"]=m},a434:function(t,e,a){"use strict";var r=a("23e7"),c=a("23cb"),n=a("a691"),i=a("50c4"),o=a("7b0b"),s=a("65f0"),l=a("8418"),d=a("1dde"),f=d("splice"),u=Math.max,p=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var a,r,d,f,m,v,g=o(this),O=i(g.length),j=c(t,O),w=arguments.length;if(0===w?a=r=0:1===w?(a=0,r=O-j):(a=w-2,r=p(u(n(e),0),O-j)),O+a-r>h)throw TypeError(b);for(d=s(g,r),f=0;f<r;f++)m=j+f,m in g&&l(d,f,g[m]);if(d.length=r,a<r){for(f=j;f<O-r;f++)m=f+r,v=f+a,m in g?g[v]=g[m]:delete g[v];for(f=O;f>O-r+a;f--)delete g[f-1]}else if(a>r)for(f=O-r;f>j;f--)m=f+r-1,v=f+a-1,m in g?g[v]=g[m]:delete g[v];for(f=0;f<a;f++)g[f+j]=arguments[f+2];return g.length=O-r+a,d}})},bbe3:function(t,e,a){},d514:function(t,e,a){},e36a:function(t,e,a){"use strict";var r=a("70a4");function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},c.apply(this,arguments)}var n={setTranslate:function(){for(var t=this,e=t.slides,a=0;a<e.length;a+=1){var r=t.slides.eq(a),c=r[0].swiperSlideOffset,n=-c;t.params.virtualTranslate||(n-=t.translate);var i=0;t.isHorizontal()||(i=n,n=0);var o=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(r[0].progress),0):1+Math.min(Math.max(r[0].progress,-1),0);r.css({opacity:o}).transform("translate3d("+n+"px, "+i+"px, 0px)")}},setTransition:function(t){var e=this,a=e.slides,r=e.$wrapperEl;if(a.transition(t),e.params.virtualTranslate&&0!==t){var c=!1;a.transitionEnd((function(){if(!c&&e&&!e.destroyed){c=!0,e.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],a=0;a<t.length;a+=1)r.trigger(t[a])}}))}}};e["a"]={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){var t=this;Object(r["a"])(t,{fadeEffect:c({},n)})},on:{beforeInit:function(t){if("fade"===t.params.effect){t.classNames.push(t.params.containerModifierClass+"fade");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};Object(r["c"])(t.params,e),Object(r["c"])(t.originalParams,e)}},setTranslate:function(t){"fade"===t.params.effect&&t.fadeEffect.setTranslate()},setTransition:function(t,e){"fade"===t.params.effect&&t.fadeEffect.setTransition(e)}}}},e690:function(t,e,a){"use strict";a("d514")}}]);
//# sourceMappingURL=chunk-0c4635d5.792f589a.js.map